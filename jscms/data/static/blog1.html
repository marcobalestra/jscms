<!DOCTYPE html>
<html>
<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<meta name="MSSmartTagsPreventParsing" content="TRUE">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
		<meta name="AS.path.labels" content="/jscms/locale/">
		<meta name="AS.labels.dontLabelize" content="true">
		<title site="La casa del cuoco">La casa del cuoco: Once upon a time…</title>
		<meta name="keywords" content="jscms, jbloud">
		<meta name="description" content="From the beginning to JSCMS, then to JBLOUD - Thanks to some god for IE is dead">
		<meta name="robots" content="all">
		<link rel="apple-touch-icon" sizes="128×128" href="/style:default/img/icon128.png">
		<link rel="apple-touch-icon" sizes="114×114" href="/style:default/img/icon114.png">
		<link rel="apple-touch-icon" sizes="64×64" href="/style:default/img/icon64.png">
		<link rel="apple-touch-icon" href="/style:default/img/icon32.png">
		<link rel="apple-touch-icon-precomposed" sizes="128×128" href="/style:default/img/icon128.png">
		<link rel="apple-touch-icon-precomposed" sizes="114×114" href="/style:default/img/icon114.png">
		<link rel="apple-touch-icon-precomposed" sizes="64×64" href="/style:default/img/icon64.png">
		<link rel="apple-touch-icon-precomposed" href="/style:default/img/icon32.png">
		<link rel="shortcut icon" href="/style:default/img/icon64.png">
		
		<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
		<script type="text/javascript" src="https://cdn.altersoftware.org/js-as-core/as-core.js" charset="UTF-8"></script>
		<script type="text/javascript" src="https://cdn.altersoftware.org/js-as-labels/as-labels.js" charset="UTF-8"></script>		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
		<script src="https://unpkg.com/@popperjs/core@2" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="/style:default/css/site.css">
		<script type="text/javascript" src="/jscms/js/jc-load.js"></script></head>
	<body style="" class="">
		<div id="topBarContainer" aria-hidden="true">
			<div id="aboveTopBar"></div>
			<div id="topBar"><!--type:part=header.json--><div class="jcBannerArea cfill pcircle pbleft"><div class="jcCover" style="background-color: rgb(255, 255, 255);"><img src="/jscms/data/uploads/index_gTN44SM0MDN1AjN5UDMzAzMMC4yMTMzODc2MTg5NzM1MzIy.jpg" alt=""></div><div class="jcProfile" style="background-image: url(&quot;https://ricette.lan.crossbow.it/jscms/data/uploads/index_UDNx4CO3kDMwMjM2QjMwgjMMC44Mzg0MDA4MzYyMTMxNTIx.jpg&quot;); cursor: pointer;"></div><div class="jcBannerText" style="color: rgb(255, 255, 255); text-shadow: rgb(0, 0, 0) -1px 0px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 1px 1px 1px;">La casa del cuoco</div><div class="jcMenu jcMenuParsed"><div class="jcicon jcAuth"></div></div></div><!--/type:part--></div>
			<div id="belowTopBar"></div>
		</div>
		<div id="jcToplevelContainer" aria-hidden="true"><div id="topContainer">
	<div id="topNavbar"><!--type:part=navbar.json--><!--/type:part--></div>
	<div id="mainContainer"><!--type:blocks--><div class="jcDate"><span class="date">Wednesday, May 26, 2021</span><span class="btn-group ml-2 mb-1"><button type="button" class="btn btn-secondary btn-sm" onclick="jc.page.open('blog',2)" title="Thursday, May 27, 2021"></button><button type="button" class="btn btn-secondary btn-sm"></button><button type="button" class="btn btn-secondary btn-sm" disabled="disabled"></button></span></div><h3>Once upon a time…</h3><h6 class="jcAbstract">From the beginning to JSCMS, then to JBLOUD - <i>Thanks to some god for IE’s dead!</i></h6><div class="jcMixedBlocks"><div class="jcHtml"><h4>Kickstart</h4>
<p>The <a href="https://github.com/marcobalestra/jscms" target="_blank" rel="noopener">repository on GitHub</a> started 23 days ago, on May 4th 2021, while actually the CMS development started only some days before.</p>
<p>Initially the idea was to have:</p>
<ul>
<li>most of the work done in the browser as a single-page application</li>
<li>a light server-side effort with just a few JSON actions (as opposite to trendy PHP CMSs)</li>
<li>data on JSON files, relationships data in a DB</li>
<li>the actual page built by a javascript rendering process, based on template/data</li>
</ul>
<p>So I started designing the renderer, splitting the process in several steps:</p>
<ol>
<li>preload in the first page all libraries (including Bootstrap)</li>
<li>load a javascript descriptor (info file)</li>
<li>load and apply its HTML “cage”</li>
<li>load page data</li>
<li>render data in “cage” areas depending on “info” definition.</li>
</ol>
<p>…and it worked, and it was very very fast.</p></div><div class="jcHtml"><h4>A back-end</h4>
<p>It was time to decide the backend, and I wasn’t sure about the backend architecture.<br><strong>Premise</strong>: don’t think that&nbsp;<em>trendy</em>&nbsp;or&nbsp;<em>popular</em>&nbsp;necessarily means&nbsp;<em>better</em>. Look at Windows…</p>
<p>Of course I didn’t consider anything from M$, I wanted a working tool running on a real operating system.</p>
<p>The first decision was to exclude Python: too heavy, too slow, sentenced by its rigid philosophy (only one way to do it, then always the most complete and huge library has to be loaded - even for a silly elementary action).</p>
<p>I didn’t want to use Java for similar reasons: a minimal server-side effort works better if supported by small light processes that are triggered then die – e.g.: a CGI approach.</p>
<p>The field was restricted to two candidates, both in CGI: Symfony/PHP and Perl.<br>In my experience a Perl environment is much more affordable and performant than the trendy alternatives.<br>On the other hand Symfony/PHP is so trendy, in addition I wonder why people are not scared if they have to install&nbsp;<span style="text-decoration: underline;">plenty</span>&nbsp;of bloating dependencies (most of them required to cache everithing preventing slowness).<br>But hey… It’s so popular!</p>
<p>I started developing the backend in Symfony, and I learned that creating a project from scratch without a commercial editor like PHPStorm is a nightmare.<br>I asked PHPStorm for a free license for opensource, and I got ignored (they never answered, simply).<br>Using cr*k’d tools for an opensource project makes no sense, I was prone to kiss goodbye to Symfony.</p></div><div class="jcHtml"><h4>A back-end?</h4>
<p>I showed the progresses to a friend, <a href="https://www.joram.it/" target="_blank" rel="noopener">Joram</a>.<br>I wanted to show him how fast is the rendering of the data, and I started drafting JSON editor for basic data fields (text, html).<br>He simply said:&nbsp;<em>“It’s a pity that you can’t simply do the work in javascript, it would be so cool if you don’t need server-side action”</em>.</p>
<p>And&nbsp;<em>bang</em>, the simple idea was on the table.<br>Being an old (or let’s say&nbsp;<em>mature</em>) programmer, I tend to stick on well-known procedures and good practices, while at the same time I’m always ready to question everything, including fundamentals.<br>So the question became:<em>&nbsp;“Do I really need server-side effort if I can use PUT method and such?”</em></p>
<p>It’s not exactly the most popular topic you can google around, on the other hand Ecmascript6 was out and I was hellbent to exploit it.<br>And I succeeded, and also found a way to do the same using jQuery (already included because of Bootstrap), more handy.<br>Then the challenge became to upload <em>binary</em> file(s) from an input field (documents, images, audio and video clips), to do it without using deprecated methods, then it became also to upload arbitrary Blob(s).<br>Achieved.</p>
<p>Moving ahead, every step I repeated myself:&nbsp;<em>«Thanks to some god for IE’s dead!»<br></em>It has been more harmful than a Cersei Lannister.</p></div><div class="jcHtml"><h4>The rabbit is out of the hat</h4>
<p>Ok, then it was possible to upload and delete both UTF-8 JSON and binary files using simply javascript and WebDAV, without a back-end. Cool!</p>
<p>A first support came from another library I wrote in a recent past: <a href="https://altersoftware.it/products/jslibs/js-as-form/" target="_blank" rel="noopener"><em><strong>js-as-form</strong></em></a>, a vanilla javascript object-oriented library to build and manage complex and hierarchical forms returning also a JSON value. It’s also extensible by adding with plugins more field types, and saved a lot of time.<br>By using it I was also using <a href="https://altersoftware.it/products/jslibs/js-as-labels/" target="_blank" rel="noopener"><em><strong>js-as-labels</strong></em></a>, included, and it’s easy enough with it to localise the UI.</p>
<p>What about relationships?<br>I think of article lists, last changed lists, category lists…<br>Obvious: JSON files built and uploaded on page save.</p>
<p>Rossella, another friend, told me: <em>“Today people want to speak rather than write”</em>.<br>Ok, then I need a voice recording tool - and possibly a video recording tool. Is it possible?<br>It is, with some limitations. As of today:</p>
<ul>
<li>audio/video recording doesn’t work on Safari Desktop v.14.1</li>
<li>video recording in Chrome spots an audio lag (out of sync with video)</li>
<li>mobile Safari (iOS) works better that any alternative, but can’t pause.<br>It produces .mp4 audio and video files that can be played everywhere (even if they’re some bigger).</li>
<li>Firefox and Chrome only record .webm files, that won’t play on Safari and iOS devices</li>
</ul>
<p>Several limitations, but hopefully they’ll disappear as soon as the W3 specifications are adopted.<br>Yet now rumours are that the <em>MediaRecorder</em> support will be shipped with Safari v.14.3 (now in beta), and there are open tickets in Chromium for the audio/video sync.<br>The decision then was to stick on W3 specifications, full stop.</p>
<p>In any case there is always the option to prepare an audio or video file and then upload it.</p></div><div class="jcHtml"><h4>A name</h4>
<p>The draft name was “jscms”, because hey, it <em><strong>is</strong></em> a js cms!</p>
<p>It was quite easy to discover that such name was widely used yet, even if all the existing alternatives required some serverside effort (in javascript with node.js, the <em>evil</em>) or user effort (e.g. uploading content in FTP).</p>
<p>It started the research for an appropriate name: clean, short, with .com domain available.<br>Another friend, David, was involved in this process — and he’s still involved, his graphic and visual skills are awesome.</p>
<p>The decision was for JBLOUD: <strong>J</strong>avascript + <strong>B</strong>log + <strong>Loud</strong></p></div><div class="jcHtml"><h4>Next steps</h4>
<p>As of today, my idea is to perform these steps:</p>
<ol>
<li>Sharing tool should work like menu (data in JSON, rendering in repository)</li>
<li>A&nbsp;<em>blogindex</em>&nbsp;page presenting blog articles as per its parameters</li>
<li>A <em>community edition</em>, where first-level directory is the blog name then the rest of the URI is local.</li>
<li>Eventually some management backend: not for the CMS, but to manage CMS instances for the community edition.</li>
</ol></div></div><!--/type:blocks--><!--type:part=sharethis.json--><div id="jcSharingPanel"><div><a class="jcSharing-facebook" href="https://facebook.com/sharer.php?display=page&amp;u=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time" target="_blank" rel="noopener" aria-label="" title="Share on Facebook"></a></div><div><a class="jcSharing-twitter" href="https://twitter.com/intent/tweet/?text=Once%20upon%20a%20time%E2%80%A6%3A%20&amp;url=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time" target="_blank" rel="noopener" aria-label="" title="Share on Twitter"></a></div><div><a class="jcSharing-telegram" href="https://telegram.me/share/url?text=Once%20upon%20a%20time%E2%80%A6%3A%20&amp;url=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time" target="_blank" rel="noopener" aria-label="" title="Share on Telegram"></a></div><div><a class="jcSharing-whatsapp" href="https://wa.me/?text=Once%20upon%20a%20time%E2%80%A6%3A%20+https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time" target="_blank" rel="noopener" aria-label="" title="Share on WhatsApp"></a></div><div><a class="jcSharing-email" href="mailto:?subject=Once%20upon%20a%20time%E2%80%A6%3A%20&amp;body=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time" target="_self" rel="noopener" aria-label="" title="Share on Email"></a></div><div><a class="jcSharing-tumblr" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=Once%20upon%20a%20time%E2%80%A6%3A%20&amp;url=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time&amp;shareSource=tumblr_share_button" target="_blank" rel="noopener" aria-label="" title="Share on Tumblr"></a></div><div><a class="jcSharing-pinterest" href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time&amp;media=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time&amp;description=Once%20upon%20a%20time%E2%80%A6%3A%20" target="_blank" rel="noopener" aria-label="" title="Share on Pinterest"></a></div><div><a class="jcSharing-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time&amp;title=Once%20upon%20a%20time%E2%80%A6%3A%20&amp;summary=Once%20upon%20a%20time%E2%80%A6%3A%20&amp;source=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time" target="_blank" rel="noopener" aria-label="" title="Share on LinkedIn"></a></div><div><a class="jcSharing-reddit" href="https://reddit.com/submit/?url=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time&amp;resubmit=true&amp;title=Once%20upon%20a%20time%E2%80%A6%3A%20" target="_blank" rel="noopener" aria-label="" title="Share on Reddit"></a></div><div><a class="jcSharing-vk" href="http://vk.com/share.php?title=Once%20upon%20a%20time%E2%80%A6%3A%20&amp;url=https%3A%2F%2Fricette.lan.crossbow.it%2F!blog1%2Fonce-upon-a-time" target="_blank" rel="noopener" aria-label="" title="Share on VK"></a></div></div><!--/type:part--></div>
</div>
</div>
		<div id="topFooter" aria-hidden="true"></div></body>
</html>