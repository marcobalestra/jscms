(()=>{var data={form:()=>{let fo={requires:["basic","pikaday","tinymce","iro","slider"],options:{},fields:[["type","hidden",{value:"fbcomments"}],["fbid","text",{asLabel:"FacebookID",trim:!0,skipempty:!0,help:'<a href="https://www.facebook.com/help/1397933243846983" target="_blank">How to find the ID</a><br />For geeks: value of c_user cookie on FB.'}],["active","bool",{asLabel:"Active",depends:"fbid"}],["numposts","slider",{asLabel:"Max",min:1,max:100,report:{value:!0},default:10,depends:"active"}],["hide","freehtml",{value:AS.label("Hide")+":"}]]};return jc.edit.prop.pageTypes.sort().forEach(s=>{fo.fields.push(["hide-"+s,"bool",{label:s}])}),fo},render:data=>{const $out=$('<div class="jcFbcomments"></div>');if(!data.active||data["hide-"+jc.page.current()]||jc.page.data().pageContent.metadata&&jc.page.data().pageContent.metadata.hideComments)return $out.data("inactive",!0),"parts"==jc.page.prop.editMode?$out.append('<span class="jcPlaceHolder">Facebook comments â€” Inactive</span>'):$out.css("display","none"),$out;if($out.css("text-align","right"),data.language||(data.language=navigator.language),data.language){let p=data.language.replace(/-/,"_").split("_");p[1]||(p[1]=p[0]),data.language=p[0].toLowerCase()+"_"+p[1].toUpperCase()}AS.test.num(data.numposts)||(data.numposts=10),window.FB&&window.FB.XFBML||$out.append(`<div id="fb-root"></div><script async defer crossorigin="anonymous" src="https://connect.facebook.net/${data.language}/sdk.js#xfbml=1&version=v10.0" nonce="dxZcBcFz"></script>`),$out.append(`<div class="fb-comments" data-width="" data-numposts="${data.numposts}"></div>`);var head=document.documentElement.querySelector("head");return $('meta[property="fb:admins"]',head).remove(),$(head).append(`<meta property="fb:admins" content="${data.fbid}"/>`),$(document.body).data("jcFbcommentsEvent")||$(document.body).on("jc_render_end",()=>{window.FB&&window.FB.XFBML&&($out.data("inactive")||$(()=>{FB.XFBML.parse()}))}).data("jcFbcommentsEvent",!0),$out}};jc.template.repo.set("part-fbcomments",data)})();